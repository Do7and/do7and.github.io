import{h as N,a as G,b as J,Q as X,c as M}from"./QBtn.064720ec.js";import{c as q,a as i,h as c,i as K,e as z,l as E,r as p,w as S,o as Y,g as W,p as A,b as Z,d as ee,f as L,j as te,k as P,m as O,n as v,q as f,s as ae,t as $,u as F,v as ne,x as le,y as oe}from"./index.e6ab9ff0.js";import{Q as I,g as B,a as re,b as ie,c as D,d as U,e as se,f as ue}from"./conf.a7c0f23c.js";var ce=q({name:"QToolbarTitle",props:{shrink:Boolean},setup(e,{slots:o}){const s=i(()=>"q-toolbar__title ellipsis"+(e.shrink===!0?" col-shrink":""));return()=>c("div",{class:s.value},N(o.default))}}),de=q({name:"QToolbar",props:{inset:Boolean},setup(e,{slots:o}){const s=i(()=>"q-toolbar row no-wrap items-center"+(e.inset===!0?" q-toolbar--inset":""));return()=>c("div",{class:s.value,role:"toolbar"},N(o.default))}}),fe=q({name:"QHeader",props:{modelValue:{type:Boolean,default:!0},reveal:Boolean,revealOffset:{type:Number,default:250},bordered:Boolean,elevated:Boolean,heightHint:{type:[String,Number],default:50}},emits:["reveal","focusin"],setup(e,{slots:o,emit:s}){const{proxy:{$q:l}}=W(),n=K(E,z);if(n===z)return console.error("QHeader needs to be child of QLayout"),z;const r=p(parseInt(e.heightHint,10)),h=p(!0),_=i(()=>e.reveal===!0||n.view.value.indexOf("H")!==-1||l.platform.is.ios&&n.isContainer.value===!0),y=i(()=>{if(e.modelValue!==!0)return 0;if(_.value===!0)return h.value===!0?r.value:0;const t=r.value-n.scroll.value.position;return t>0?t:0}),d=i(()=>e.modelValue!==!0||_.value===!0&&h.value!==!0),C=i(()=>e.modelValue===!0&&d.value===!0&&e.reveal===!0),k=i(()=>"q-header q-layout__section--marginal "+(_.value===!0?"fixed":"absolute")+"-top"+(e.bordered===!0?" q-header--bordered":"")+(d.value===!0?" q-header--hidden":"")+(e.modelValue!==!0?" q-layout--prevent-focus":"")),H=i(()=>{const t=n.rows.value.top,g={};return t[0]==="l"&&n.left.space===!0&&(g[l.lang.rtl===!0?"right":"left"]=`${n.left.size}px`),t[2]==="r"&&n.right.space===!0&&(g[l.lang.rtl===!0?"left":"right"]=`${n.right.size}px`),g});function m(t,g){n.update("header",t,g)}function b(t,g){t.value!==g&&(t.value=g)}function T({height:t}){b(r,t),m("size",t)}function V(t){C.value===!0&&b(h,!0),s("focusin",t)}S(()=>e.modelValue,t=>{m("space",t),b(h,!0),n.animate()}),S(y,t=>{m("offset",t)}),S(()=>e.reveal,t=>{t===!1&&b(h,e.modelValue)}),S(h,t=>{n.animate(),s("reveal",t)}),S(n.scroll,t=>{e.reveal===!0&&b(h,t.direction==="up"||t.position<=e.revealOffset||t.position-t.inflectionPoint<100)});const Q={};return n.instances.header=Q,e.modelValue===!0&&m("size",r.value),m("space",e.modelValue),m("offset",y.value),Y(()=>{n.instances.header===Q&&(n.instances.header=void 0,m("size",0),m("offset",0),m("space",!1))}),()=>{const t=G(o.default,[]);return e.elevated===!0&&t.push(c("div",{class:"q-layout__shadow absolute-full overflow-hidden no-pointer-events"})),t.push(c(I,{debounce:0,onResize:T})),c("header",{class:k.value,style:H.value,onFocusin:V},t)}}}),ve=q({name:"QPageContainer",setup(e,{slots:o}){const{proxy:{$q:s}}=W(),l=K(E,z);if(l===z)return console.error("QPageContainer needs to be child of QLayout"),z;A(Z,!0);const n=i(()=>{const r={};return l.header.space===!0&&(r.paddingTop=`${l.header.size}px`),l.right.space===!0&&(r[`padding${s.lang.rtl===!0?"Left":"Right"}`]=`${l.right.size}px`),l.footer.space===!0&&(r.paddingBottom=`${l.footer.size}px`),l.left.space===!0&&(r[`padding${s.lang.rtl===!0?"Right":"Left"}`]=`${l.left.size}px`),r});return()=>c("div",{class:"q-page-container",style:n.value},N(o.default))}}),he=q({name:"QLayout",props:{container:Boolean,view:{type:String,default:"hhh lpr fff",validator:e=>/^(h|l)h(h|r) lpr (f|l)f(f|r)$/.test(e.toLowerCase())},onScroll:Function,onScrollHeight:Function,onResize:Function},setup(e,{slots:o,emit:s}){const{proxy:{$q:l}}=W(),n=p(null),r=p(l.screen.height),h=p(e.container===!0?0:l.screen.width),_=p({position:0,direction:"down",inflectionPoint:0}),y=p(0),d=p(ee.value===!0?0:B()),C=i(()=>"q-layout q-layout--"+(e.container===!0?"containerized":"standard")),k=i(()=>e.container===!1?{minHeight:l.screen.height+"px"}:null),H=i(()=>d.value!==0?{[l.lang.rtl===!0?"left":"right"]:`${d.value}px`}:null),m=i(()=>d.value!==0?{[l.lang.rtl===!0?"right":"left"]:0,[l.lang.rtl===!0?"left":"right"]:`-${d.value}px`,width:`calc(100% + ${d.value}px)`}:null);function b(a){if(e.container===!0||document.qScrollPrevented!==!0){const u={position:a.position.top,direction:a.direction,directionChanged:a.directionChanged,inflectionPoint:a.inflectionPoint.top,delta:a.delta.top};_.value=u,e.onScroll!==void 0&&s("scroll",u)}}function T(a){const{height:u,width:w}=a;let x=!1;r.value!==u&&(x=!0,r.value=u,e.onScrollHeight!==void 0&&s("scrollHeight",u),Q()),h.value!==w&&(x=!0,h.value=w),x===!0&&e.onResize!==void 0&&s("resize",a)}function V({height:a}){y.value!==a&&(y.value=a,Q())}function Q(){if(e.container===!0){const a=r.value>y.value?B():0;d.value!==a&&(d.value=a)}}let t=null;const g={instances:{},view:i(()=>e.view),isContainer:i(()=>e.container),rootRef:n,height:r,containerHeight:y,scrollbarWidth:d,totalWidth:i(()=>h.value+d.value),rows:i(()=>{const a=e.view.toLowerCase().split(" ");return{top:a[0].split(""),middle:a[1].split(""),bottom:a[2].split("")}}),header:L({size:0,offset:0,space:!1}),right:L({size:300,offset:0,space:!1}),footer:L({size:0,offset:0,space:!1}),left:L({size:300,offset:0,space:!1}),scroll:_,animate(){t!==null?clearTimeout(t):document.body.classList.add("q-body--layout-animate"),t=setTimeout(()=>{t=null,document.body.classList.remove("q-body--layout-animate")},155)},update(a,u,w){g[a][u]=w}};if(A(E,g),B()>0){let w=function(){a=null,u.classList.remove("hide-scrollbar")},x=function(){if(a===null){if(u.scrollHeight>l.screen.height)return;u.classList.add("hide-scrollbar")}else clearTimeout(a);a=setTimeout(w,300)},R=function(j){a!==null&&j==="remove"&&(clearTimeout(a),w()),window[`${j}EventListener`]("resize",x)},a=null;const u=document.body;S(()=>e.container!==!0?"add":"remove",R),e.container!==!0&&R("add"),te(()=>{R("remove")})}return()=>{const a=J(o.default,[c(re,{onScroll:b}),c(I,{onResize:T})]),u=c("div",{class:C.value,style:k.value,ref:e.container===!0?void 0:n,tabindex:-1},a);return e.container===!0?c("div",{class:"q-layout-container overflow-hidden",ref:n},[c(I,{onResize:V}),c("div",{class:"absolute-full",style:H.value},[c("div",{class:"scroll",style:m.value},[u])])]):u}}});Object.assign({name:"EssentialLink"},{__name:"EssentialLink",props:{title:{type:String,required:!0},caption:{type:String,default:""},link:{type:String,default:"#"},icon:{type:String,default:""}},setup(e){const o=e;return(s,l)=>(P(),O(ie,{clickable:"",tag:"a",target:"_blank",href:o.link},{default:v(()=>[o.icon?(P(),O(D,{key:0,avatar:""},{default:v(()=>[f(X,{name:o.icon},null,8,["name"])]),_:1})):ae("",!0),f(D,null,{default:v(()=>[f(U,null,{default:v(()=>[$(F(o.title),1)]),_:1}),f(U,{caption:""},{default:v(()=>[$(F(o.caption),1)]),_:1})]),_:1})]),_:1},8,["href"]))}});const ye=Object.assign({name:"MainLayout"},{__name:"MainLayout",setup(e){const o=p(!1);function s(){o.value=!o.value}return(l,n)=>{const r=ne("router-view");return P(),O(he,{view:"lHh Lpr lFf"},{default:v(()=>[f(fe,{elevated:""},{default:v(()=>[f(de,null,{default:v(()=>[f(M,{flat:"",dense:"",round:"",icon:"menu","aria-label":"Menu",onClick:s}),f(ce,null,{default:v(()=>n[0]||(n[0]=[$(" \u661F\u94C1\u6A21\u62DF\u6392\u8F74 ")])),_:1}),f(M,{flat:"",round:"",dense:"",icon:"forum",href:"https://nga.178.com/read.php?tid=41666785",target:"_blank"},{default:v(()=>[f(se,null,{default:v(()=>n[1]||(n[1]=[$("\u95EE\u9898\u53CD\u9988")])),_:1})]),_:1}),le("div",null,"V"+F(oe(ue).VERSION),1)]),_:1})]),_:1}),f(ve,null,{default:v(()=>[f(r)]),_:1})]),_:1})}}});export{ye as default};
